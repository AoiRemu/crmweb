(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ca1ba52"],{"13a2":function(t,e,a){},2382:function(t,e,a){"use strict";a("5791")},"23ba":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i}));var l=a("b775");function o(t){return Object(l["a"])({url:"/api/Group/GetTable",method:"get",params:t})}function i(t){return Object(l["a"])({url:"/api/Group/GetOptions",method:"get",params:t})}},"35ad":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return i}));var l=a("b775");function o(t){return Object(l["a"])({url:"/api/Contract/GetTable",method:"get",params:t})}function i(t){return Object(l["a"])({url:"/api/Contract/GetCustomerContract/".concat(t),method:"get"})}},3931:function(t,e,a){"use strict";a("70f9")},"3fb4":function(t,e,a){"use strict";a("6c38")},5791:function(t,e,a){},"586d":function(t,e,a){},"6c10":function(t,e,a){"use strict";a("8398")},"6c38":function(t,e,a){},"6d3d":function(t,e,a){},"70f9":function(t,e,a){},"747d":function(t,e,a){},"7db0":function(t,e,a){"use strict";var l=a("23e7"),o=a("b727").find,i=a("44d2"),r=a("ae40"),s="find",n=!0,c=r(s);s in[]&&Array(1)[s]((function(){n=!1})),l({target:"Array",proto:!0,forced:n||!c},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i(s)},8088:function(t,e,a){"use strict";a("586d")},"81d5":function(t,e,a){"use strict";var l=a("7b0b"),o=a("23cb"),i=a("50c4");t.exports=function(t){var e=l(this),a=i(e.length),r=arguments.length,s=o(r>1?arguments[1]:void 0,a),n=r>2?arguments[2]:void 0,c=void 0===n?a:o(n,a);while(c>s)e[s++]=t;return e}},8398:function(t,e,a){},"8df9":function(t,e,a){"use strict";a("13a2")},a627:function(t,e,a){"use strict";a("b259")},a673:function(t,e,a){"use strict";a("6d3d")},aedf:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"query_warp"},[a("div",{staticClass:"nav_warp"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.importData}},[t._v("导入客户数据")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add}},[t._v("添加客户")])],1),a("div",{staticClass:"query_form"},[a("el-form",{ref:"form",attrs:{model:t.queryForm,rules:t.rules,"label-width":"80px",inline:!0,size:"normal"}},[a("el-form-item",{attrs:{label:"客户名称"}},[a("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:t.queryForm.name,callback:function(e){t.$set(t.queryForm,"name",e)},expression:"queryForm.name"}})],1),1===t.searchType?a("el-form-item",{attrs:{label:"客户分组"}},[a("el-select",{attrs:{placeholder:"请选择客户分组",clearable:"",filterable:""},model:{value:t.queryForm.groupId,callback:function(e){t.$set(t.queryForm,"groupId",e)},expression:"queryForm.groupId"}},t._l(t.groupOptions,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):t._e(),a("el-form-item",{attrs:{label:" "}},[a("el-button",{attrs:{type:"primary"},on:{click:t.getTable}},[t._v("搜索")])],1)],1)],1)]),a("div",{staticClass:"table_warp"},[a("div",{staticClass:"header_warp"},[a("div",{staticClass:"btn_warp"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.batchGroup}},[t._v("批量分组")])],1)]),a("el-table",{ref:"table",attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:"客户全名",prop:"name",width:"120px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("el-popover",{attrs:{placement:"right",trigger:"hover"}},[a("AvatarCard",{key:e.row.id,staticClass:"card_item",model:{value:e.row,callback:function(a){t.$set(e,"row",a)},expression:"scope.row"}}),a("div",{staticClass:"avatar_warp",attrs:{slot:"reference"},slot:"reference"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid",size:24,shape:"circle",fit:"fill"}}),a("div",{staticClass:"avatar_right"},[a("div",{staticClass:"customer_name"},[t._v(t._s(e.row.name))])])],1)],1)],1)]}}])}),a("el-table-column",{attrs:{label:"客户分组",prop:"groupName"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(t.showGroupName(e.row.groupId))+" ")])]}}])}),a("el-table-column",{attrs:{label:"客户星级",prop:"level",width:"140px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[a("RateStar",{key:e.row.id,attrs:{disabled:!0},model:{value:e.row.level,callback:function(a){t.$set(e.row,"level",a)},expression:"scope.row.level"}})],1)]}}])}),a("el-table-column",{attrs:{label:"手机",prop:"phone"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(" "+t._s(t.showPhone(e.row.phone))+" ")])]}}])}),a("el-table-column",{attrs:{label:"标签",prop:"county"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",t._l(e.row.tags,(function(e){return a("el-tag",{key:e.id,attrs:{"disable-transitions":"",type:"",effect:"dark"}},[t._v(t._s(e.name))])})),1)]}}])}),a("el-table-column",{attrs:{label:"客户进展",prop:"follow_state"}}),a("el-table-column",{attrs:{label:"跟进人",prop:"follow_account",width:"120px"}}),a("el-table-column",{attrs:{label:"下次跟进时间",prop:"next_follow_time"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:{itstime:t.itstime(e.row.next_follow_time)}},[t._v(" "+t._s(e.row.next_follow_time)+" ")])]}}])}),a("el-table-column",{attrs:{label:"创建时间",prop:"ctime"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[2!==e.row.state?a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(a){return t.giveup(e.row.id)}}},[t._v("放弃")]):t._e(),2===e.row.state?a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(a){return t.allot(e.row.id)}}},[t._v("认领")]):t._e(),a("el-button",{attrs:{type:"text",size:"default"},on:{click:function(a){return t.detail(e.row.id)}}},[t._v("详情")])],1)]}}])})],1),a("el-pagination",{staticClass:"table_pagination",attrs:{"current-page":t.queryForm.pageIndex,"page-sizes":[10,30,50,100],"page-size":t.queryForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total,background:"","pager-count":7},on:{"update:currentPage":function(e){return t.$set(t.queryForm,"pageIndex",e)},"update:current-page":function(e){return t.$set(t.queryForm,"pageIndex",e)},"size-change":t.sizeChange,"current-change":t.getTable}}),a("el-drawer",{attrs:{title:"客户详情",visible:t.detailVisible,direction:"rtl",size:"30%","destroy-on-close":!0,"show-close":!0,"wrapper-closable":!1},on:{"update:visible":function(e){t.detailVisible=e}}},[t.detailVisible?a("Detail",{ref:"Detail",attrs:{id:t.detailId},on:{closeDialog:function(e){t.detailVisible=!1}}}):t._e()],1)],1),a("el-dialog",{attrs:{title:"添加客户",visible:t.visible,width:"40%",top:"50px","close-on-click-modal":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.visible=e},close:function(e){t.visible=!1}}},[a("Info",{ref:"Info",attrs:{id:0},on:{closeDialog:function(e){t.visible=!1}}})],1)],1)},o=[],i=(a("d3b7"),a("159b"),a("7db0"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"form_warp"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",inline:!1,size:"normal"}},[a("el-collapse",{attrs:{accordion:!1},model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基础信息",name:"1"}},[a("div",[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入客户名称"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio",{attrs:{label:"male"},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v("男")]),a("el-radio",{attrs:{label:"female"},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v("女")]),a("el-radio",{attrs:{label:"unknown"},model:{value:t.form.gender,callback:function(e){t.$set(t.form,"gender",e)},expression:"form.gender"}},[t._v("未知")])],1),a("el-form-item",{attrs:{label:"星级",prop:"level"}},[a("el-input",{attrs:{placeholder:"请输入星级"},model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}})],1),a("el-form-item",{attrs:{label:"来源",prop:"source"}},[a("el-input",{attrs:{placeholder:"请输入来源"},model:{value:t.form.source,callback:function(e){t.$set(t.form,"source",e)},expression:"form.source"}})],1),a("el-form-item",{attrs:{label:"分组",prop:"group"}},[a("el-input",{attrs:{placeholder:"请选择分组"},model:{value:t.form.group,callback:function(e){t.$set(t.form,"group",e)},expression:"form.group"}})],1),a("el-form-item",{attrs:{label:"微信",prop:"wechat"}},[a("el-input",{attrs:{placeholder:"请输入微信"},model:{value:t.form.wechat,callback:function(e){t.$set(t.form,"wechat",e)},expression:"form.wechat"}})],1),a("el-form-item",{attrs:{label:"QQ",prop:"qq"}},[a("el-input",{attrs:{placeholder:"请输入QQ"},model:{value:t.form.qq,callback:function(e){t.$set(t.form,"qq",e)},expression:"form.qq"}})],1),a("el-form-item",{attrs:{label:"手机",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入手机"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"座机",prop:"telphone"}},[a("el-input",{attrs:{placeholder:"请输入座机"},model:{value:t.form.telphone,callback:function(e){t.$set(t.form,"telphone",e)},expression:"form.telphone"}})],1),a("el-form-item",{attrs:{label:"地区",prop:"county"}},[a("el-input",{attrs:{placeholder:"请输入地区"},model:{value:t.form.county,callback:function(e){t.$set(t.form,"county",e)},expression:"form.county"}})],1),a("el-form-item",{attrs:{label:"地址",prop:"address"}},[a("el-input",{attrs:{placeholder:"请输入地址"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),a("el-form-item",{attrs:{label:"资质",prop:"qualification"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入资质"},model:{value:t.form.qualification,callback:function(e){t.$set(t.form,"qualification",e)},expression:"form.qualification"}})],1)],1)]),a("el-collapse-item",{attrs:{title:"详细信息",name:"2"}},[a("div",[a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-input",{attrs:{placeholder:"请输入生日"},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,"birthday",e)},expression:"form.birthday"}})],1),a("el-form-item",{attrs:{label:"职务",prop:"position"}},[a("el-input",{attrs:{placeholder:"请输入职务"},model:{value:t.form.position,callback:function(e){t.$set(t.form,"position",e)},expression:"form.position"}})],1),a("el-form-item",{attrs:{label:"行业",prop:"industry"}},[a("el-input",{attrs:{placeholder:"请输入行业"},model:{value:t.form.industry,callback:function(e){t.$set(t.form,"industry",e)},expression:"form.industry"}})],1),a("el-form-item",{attrs:{label:"工作单位",prop:"workAddress"}},[a("el-input",{attrs:{placeholder:"请输入工作单位"},model:{value:t.form.workAddress,callback:function(e){t.$set(t.form,"workAddress",e)},expression:"form.workAddress"}})],1),a("el-form-item",{attrs:{label:"网址",prop:"netAddress"}},[a("el-input",{attrs:{placeholder:"请输入网址"},model:{value:t.form.netAddress,callback:function(e){t.$set(t.form,"netAddress",e)},expression:"form.netAddress"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1)])],1)],1),a("div",{staticClass:"btn_warp"},[a("el-button",{attrs:{type:"primary",size:"default"},on:{click:t.save}},[t._v("确定")]),a("el-button",{attrs:{size:"default"},on:{click:t.cancel}},[t._v("取消")])],1)],1)])}),r=[],s=(a("a9e3"),a("b775"));function n(t){return Object(s["a"])({url:"/api/Customer/GetTable",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/api/Customer/".concat(t),method:"get"})}var u={props:{id:{type:Number,default:0}},data:function(){return{form:{name:"",gender:"unknown",level:"",birthday:"",source:"",group:"",position:"",wechat:"",qq:"",phone:"",telphone:"",email:"",county:"",industry:"",workAddress:"",netAddress:"",address:"",description:"",qualification:""},rules:{},activeNames:["1"]}},created:function(){this.id>0&&this.getInfo()},methods:{save:function(){},cancel:function(){this.$emit("closeDialog")},getInfo:function(){var t=this;c(this.id).then((function(e){t.form=e.data}))}}},d=u,f=(a("6c10"),a("2877")),m=Object(f["a"])(d,i,r,!1,null,"eb6a4f98",null),p=m.exports,v=a("23ba"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"avatar_warp"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid",size:72,shape:"circle",fit:"fill"}}),a("div",{staticClass:"avatar_right"},[a("div",{staticClass:"customer_name"},[t._v(t._s(t.customerForm.name))]),a("div",{staticClass:"follow_account"},[a("span",[t._v("跟进人：")]),a("span",[t._v(t._s(t.customerForm.follow_account))])])])],1),a("el-tabs",{attrs:{"tab-position":"top"},on:{"tab-click":t.tabChangeHandler},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"首页",name:"home"}},[a("div",{staticClass:"tag_warp"},[a("h5",[t._v("标签")]),a("el-button",{staticClass:"add_tag",attrs:{size:"small",icon:"el-icon-plus"},on:{click:t.addTag}}),t._l(t.tagList,(function(e){return a("el-tag",{key:e.id,attrs:{type:"",effect:"dark"}},[t._v(t._s(e.name))])}))],2),a("div",{staticClass:"follow_state_warp"},[a("div",{staticClass:"title_warp"},[a("h5",[t._v("客户进展")]),a("div",[a("el-select",{attrs:{size:"small"},model:{value:t.customerForm.follow_state,callback:function(e){t.$set(t.customerForm,"follow_state",e)},expression:"customerForm.follow_state"}},t._l(t.followStepData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)]),a("el-steps",{attrs:{active:t.customerForm.follow_state,direction:"horizontal","finish-status":"success","process-status":"wait"}},t._l(t.followStepData,(function(e){return a("el-step",{key:e.id,attrs:{title:e.name},on:{click:function(a){return t.setStep(e.id)}}})})),1)],1),a("div",{staticClass:"follow_warp"},[a("h5",[t._v("跟进记录")]),a("EditFollow",{ref:"EditFollow",attrs:{customerid:t.id}}),a("Follow",{ref:"Follow",attrs:{customerid:t.id}})],1)]),a("el-tab-pane",{attrs:{label:"客户资料",name:"info"}},[a("Info",{ref:"Info",attrs:{id:t.id}})],1),a("el-tab-pane",{attrs:{label:"合同状况",name:"contract"}},[a("Contract",{attrs:{customerid:t.id}})],1)],1),a("el-dialog",{attrs:{title:"选择标签",visible:t.tagVisible,width:"30%","append-to-body":""},on:{"update:visible":function(e){t.tagVisible=e},close:function(e){t.tagVisible=!1}}},[a("AddTag",{attrs:{"customer-tags":t.tagList},on:{closeDialog:function(e){t.tagVisible=!1}}})],1)],1)},h=[],_=a("d28d");function g(){return Object(s["a"])({url:"/api/Follow/Step",method:"get"})}function w(t){return Object(s["a"])({url:"/api/Follow/Customer/".concat(t),method:"get"})}var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follow_warp"},[a("el-timeline",{attrs:{reverse:!1}},t._l(t.tableData,(function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.ctime,placement:"top",type:"primary",size:"normal"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"content_warp"},[a("div",{staticClass:"title_warp"},[a("div",[t._v(t._s(e.account))]),a("div",[t._v("发表了跟进记录")])]),a("div",{staticClass:"message"},[t._v(t._s(e.message))])])])],1)})),1)],1)},k=[],C=(a("fb6a"),{props:{customerid:{type:Number,default:0},max:{type:[Number,String],default:""}},data:function(){return{queryForm:{pageSize:10,pageIndex:1},tableData:[],total:0}},computed:{noMore:function(){return this.tableData.length>=this.total},disabled:function(){return this.noMore||this.loading}},created:function(){this.getTable()},methods:{getTable:function(){var t=this;this.loading=!0,w(this.customerid).then((function(e){t.max?t.tableData=e.data.data.slice(0,t.max):t.tableData=e.data.data,t.total=e.data.total})).finally((function(){t.loading=!1}))}}}),x=C,$=(a("a673"),Object(f["a"])(x,y,k,!1,null,"2c0c25e7",null)),F=$.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-width":"80px",inline:!0,size:"small"}},[a("el-form-item",{attrs:{label:"",prop:"message"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"下次跟进时间",align:"right"},model:{value:t.form.next_follow_time,callback:function(e){t.$set(t.form,"next_follow_time",e)},expression:"form.next_follow_time"}})],1),a("el-form-item",{attrs:{label:"",prop:"message"}},[a("el-input",{attrs:{placeholder:"添加跟进记录"},model:{value:t.form.message,callback:function(e){t.$set(t.form,"message",e)},expression:"form.message"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")])],1)],1)],1)},D=[],z={props:{customerid:{type:Number,default:0}},data:function(){return{form:{message:"",next_follow_time:""},rules:{}}},methods:{save:function(){}}},T=z,O=(a("8088"),Object(f["a"])(T,q,D,!1,null,"10316fda",null)),S=O.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"add_tag_warp"},t._l(t.tableData,(function(e){return a("el-checkbox",{key:e.id,attrs:{"true-label":e.id,border:"",size:"small"},model:{value:e.isChecked,callback:function(a){t.$set(e,"isChecked",a)},expression:"item.isChecked"}},[t._v(t._s(e.name))])})),1),a("div",{staticClass:"btn_warp"},[a("el-button",{attrs:{type:"primary"},on:{click:t.save}},[t._v("确定")]),a("el-button",{on:{click:t.close}},[t._v("取消")])],1)])},I=[],A={props:{customerTags:{type:Array,default:function(){return[]}}},data:function(){return{tableData:[]}},created:function(){this.getTable()},methods:{getTable:function(){var t=this;Object(_["b"])().then((function(e){t.tableData=e.data.data}))},setTagChecked:function(){var t=this;this.tableData.forEach((function(e){t.customerTags.find((function(t){return e.id===t.id}))?e.isChecked=!0:e.isChecked=!1}))},save:function(){this.close()},close:function(){this.$emit("closeDialog")}}},N=A,E=(a("3fb4"),Object(f["a"])(N,j,I,!1,null,"48aada6e",null)),G=E.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract_warp"},[0===t.tableData.length?a("div",[t._v("暂无合同")]):a("el-timeline",{attrs:{reverse:!1}},t._l(t.tableData,(function(e){return a("el-timeline-item",{key:e.id,attrs:{timestamp:e.ctime,placement:"top",type:"primary",size:"normal"}},[a("el-card",{attrs:{shadow:"hover"}},[a("div",{staticClass:"content_warp"},[a("div",{staticClass:"title_warp"},[a("div",[t._v(t._s(e.accountName))]),a("div",[t._v("合同状况")])]),a("div",{staticClass:"message"},[t._v(t._s(e.state))])])])],1)})),1)],1)},V=[],Q=a("35ad"),P={props:{customerid:{type:Number,default:0}},data:function(){return{queryForm:{pageSize:10,pageIndex:1},tableData:[],total:0}},computed:{},created:function(){this.getTable()},methods:{getTable:function(){var t=this;this.loading=!0,Object(Q["a"])(this.customerid).then((function(e){t.max?t.tableData=e.data.data.slice(0,t.max):t.tableData=e.data.data,t.total=e.data.total})).finally((function(){t.loading=!1}))}}},H=P,J=(a("c3c2"),Object(f["a"])(H,L,V,!1,null,"e92ea0f4",null)),M=J.exports,R={components:{Follow:F,EditFollow:S,Info:p,AddTag:G,Contract:M},props:{id:{type:[Number,String],default:0}},data:function(){return{activeName:"home",followStepData:[],customerForm:{name:"",gender:"unknown",birthday:"",source:"",group:"",position:"",wechat:"",qq:"",phone:"",telphone:"",email:"",county:"",industry:"",workAddress:"",netAddress:"",address:"",description:"",follow_account:"",follow_state:0},followList:[],tagList:[],tagVisible:!1}},created:function(){this.getDetail(),this.getTags(),this.getFollowStep()},methods:{getDetail:function(){var t=this;c(this.id).then((function(e){console.log(e),t.customerForm=e.data}))},tabChangeHandler:function(t){console.log(t)},getTags:function(){var t=this;Object(_["a"])(this.id).then((function(e){t.tagList=e.data}))},getFollowStep:function(){var t=this;g().then((function(e){console.log("GetFollowStep",e.data),t.followStepData=e.data}))},addTag:function(){this.tagVisible=!0}}},B=R,K=(a("2382"),Object(f["a"])(B,b,h,!1,null,"289c6ba4",null)),U=K.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"star_warp"},t._l(t.starList,(function(e,l){return a("div",{key:t.key+l,staticClass:"star_item",on:{click:function(e){return t.save(l)}}},[a("i",{key:t.key+e,class:1==e?t.lightClass:t.darkClass})])})),0)},X=[],Y=(a("cb29"),{props:{value:{type:Number||String,default:0},count:{type:Number,default:5},disabled:{type:Boolean,default:!1}},data:function(){return{starList:[],lightClass:"el-icon-star-on",darkClass:"el-icon-star-off",key:new Date}},created:function(){this.init()},methods:{save:function(t){if(!this.disabled){for(var e=0;e<this.starList.length;e++){var a=e<=t?1:0;this.starList[e]=a}console.log("starList",this.starList),this.$emit("input",t),this.key=new Date}},init:function(){this.starList=new Array(this.count).fill(0);for(var t=0;t<this.value;t++)this.starList[t]=1}}}),Z=Y,tt=(a("a627"),Object(f["a"])(Z,W,X,!1,null,"695aa30c",null)),et=tt.exports;function at(t){t+="";var e="****",a=t.substr(0,3)+e+t.substr(7);return a}var lt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card_warp"},[a("div",{staticClass:"avatar_warp"},[a("div",{staticClass:"card_left"},[a("el-avatar",{attrs:{icon:"el-icon-user-solid",size:72,shape:"circle",fit:"fill"}})],1),a("div",{staticClass:"card_right"},[a("div",{staticClass:"avatar_middle"},[a("div",{staticClass:"content_item"},[a("div",{staticClass:"label"},[t._v(t._s(t.value.name))]),a("div",{staticClass:"content"},[a("rate-star",{model:{value:t.value.level,callback:function(e){t.$set(t.value,"level",e)},expression:"value.level"}})],1)]),a("div",{staticClass:"content_item"},[t._m(0),a("div",{staticClass:"content"},[t._v(" "+t._s(t.value.phone)+" ")])])]),a("div",{staticClass:"avatar_right"},[a("div",{staticClass:"content_item"},[t._m(1),a("div",{staticClass:"content"},[t._v(" "+t._s(t.value.follow_state)+" ")])])])])]),a("el-divider"),a("div",{staticClass:"detail_warp"},[a("div",{staticClass:"content_item"},[t._m(2),a("div",{staticClass:"content"},t._l(t.value.tags,(function(e){return a("el-tag",{key:e.id,attrs:{size:"mini",effect:"dark"}},[t._v(t._s(e.name))])})),1)]),a("div",{staticClass:"content_item"},[t._m(3),a("div",{staticClass:"content"},[t._v(" "+t._s(t.value.qualification)+" ")])]),a("div",{staticClass:"content_item follow"},[t._m(4),a("div",{staticClass:"content"},[a("Follow",{attrs:{customerid:t.value.id,max:3}})],1)])])],1)},ot=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-phone"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-s-check"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-collection-tag"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-s-management"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"label"},[a("i",{staticClass:"el-icon-notebook-1"})])}],it={components:{rateStar:et,Follow:F},props:{value:{type:Object,default:function(){}}},data:function(){return{}}},rt=it,st=(a("8df9"),Object(f["a"])(rt,lt,ot,!1,null,"640843a9",null)),nt=st.exports,ct={components:{Info:p,Detail:U,RateStar:et,AvatarCard:nt},data:function(){return{searchType:0,queryForm:{name:"",groupId:"",pageSize:10,pageIndex:1},groupOptions:[],rules:{},tableData:[],total:0,loading:!1,visible:!1,detailId:0,detailVisible:!1}},created:function(){this.searchType=this.$route.params.type?+this.$route.params.type:0,this.getTable(),this.getGroupOptions()},mounted:function(){},methods:{mockTable:function(t){var e=this;t.forEach((function(t){t.state=e.searchType}))},getTable:function(){var t=this;n(this.queryForm).then((function(e){var a=e.data.data;t.mockTable(a),t.tableData=a,t.total=e.data.total}))},getGroupOptions:function(){var t=this,e={};Object(v["a"])(e).then((function(e){t.groupOptions=e.data.data}))},sizeChange:function(t){this.queryForm.pageSize=t,this.getTable()},importData:function(){},add:function(){this.visible=!0},batchGroup:function(){console.log(this.$refs.table.selection)},detail:function(t){this.detailId=t,this.detailVisible=!0},giveup:function(t){this.$message.success("客户已放回公海")},allot:function(t){this.$message.success("认领客户成功")},showGroupName:function(t){var e;return null===(e=this.groupOptions.find((function(e){return e.id===t})))||void 0===e?void 0:e.name},showPhone:function(t){var e=at(t);return e},itstime:function(t){var e=new Date;return e>=t}}},ut=ct,dt=(a("3931"),Object(f["a"])(ut,l,o,!1,null,"5a86c8c0",null));e["default"]=dt.exports},b259:function(t,e,a){},c3c2:function(t,e,a){"use strict";a("747d")},cb29:function(t,e,a){var l=a("23e7"),o=a("81d5"),i=a("44d2");l({target:"Array",proto:!0},{fill:o}),i("fill")},d28d:function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return i}));var l=a("b775");function o(t){return Object(l["a"])({url:"/api/Tag/Customer/".concat(t),method:"get"})}function i(){return Object(l["a"])({url:"/api/Tag/GetTable",method:"get"})}}}]);